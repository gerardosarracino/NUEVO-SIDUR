<odoo>
  <data>

     <record id="filtro_search_libros" model="ir.ui.view">
         <field name="name">Filtro de busqueda para Revision</field>
         <field name="model">libros.blancos</field>
          <field name="arch" type="xml">
             <search string="Busqueda en Partidas">
            <separator/>
            <filter string=" --- Ejercicio ---" name="ejercicio"/>
            <separator orientation="vertical" />
            <filter string="2021" name="ejercicio" domain="[('ejercicio.name', '=', '2021')]" />
            <filter string="2020" name="ejercicio" domain="[('ejercicio.name', '=', '2020')]" /> 
            <filter string="2019" name="ejercicio" domain="[('ejercicio.name', '=', '2019')]"/>
            <filter string="2018" name="ejercicio" domain="[('ejercicio.name', '=', '2018')]"/>
            <filter string="2017" name="ejercicio" domain="[('ejercicio.name', '=', '2017')]"/>
            <filter string="2016" name="ejercicio" domain="[('ejercicio.name', '=', '2016')]"/>
            <filter string="2015" name="ejercicio" domain="[('ejercicio.name', '=', '2015')]"/>
            <separator/>
            <separator string="Tipo de la Obra"/>
              <filter string=" --- Tipo de Obra ---" name="tipo_obra"/>
            <separator orientation="vertical" />
             <filter string="OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'OBRA')]" />
             <filter string="ESTUDIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ESTUDIOS')]" />
             <filter string="EQUIPO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'EQUIPO')]" />
             <filter string="PROYECTO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'PROYECTO')]" />
             <filter string="SUPERVISIÓN EXTERNA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SUPERVISIÓN EXTERNA')]" />
             <filter string="REMODELACIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'REMODELACIÓN')]" />
             <filter string="SERVICIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SERVICIOS')]" />
             <filter string="VERIFICACIÓN ELÉCTRICA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'VERIFICACIÓN ELÉCTRICA')]" />
             <filter string="CONTROL DE CALIDAD" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'CONTROL DE CALIDAD')]" />
             <filter string="DIRECTOR RESPONSABLE DE OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'DIRECTOR RESPONSABLE DE OBRA')]" />
             <filter string="ADQUISICIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ADQUISICIÓN')]" />

              <field name="contrato" string="Nombre de la Partida"/>
              <field name="nombre_obra"/>
              <field name="contratista"/>
              <field name="tabla_libros_blancos"/>
              <field name="reviso_expediente" /> 

              <field name="verificado_expediente"/>
              <field name="fecha_revisado_exp"/>
              <field name="fecha_verificado_exp"/>
              <field name="responsable_revision_exp"/>
              <field name="registrado" />
             </search>
         </field>
      </record>



      


    <report
        id="estatus_expediente_docs"
        model="libros.blancos"
        string="ESTATUS EXPEDIENTE"
        report_type="qweb-html"
        name="libros_blancos.reportex"
        menu="False"
    />

    <report
        id="reporte_incidencia"
        model="libros.blancos"
        string="REPORTE INCIDENCIAS"
        report_type="qweb-html"
        name="libros_blancos.reporte_incidencias_qweb"
        menu="False"
    />

    <record model="ir.ui.view" id="libros_documentos_tree">
      <field name="name">tree libros</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <tree create="false">
            <field name="numero_documento" readonly="1"/>
           
            <field name="nombre_documento_m2o" string="Nombre Documento"/>
             <field name="etapa" readonly="1"/>
            <field name="aplica"/>
            <field name="existe"/>
            <field name="Observaciones"/>
            <field name="contrato_id" string="Contrato" invisible="1"/>
            <field name="libros_blancos_id" invisible="1"/> 
             <field name="verificado_expediente" invisible="1"/>
        </tree>
      </field>
    </record>
    
    <record model="ir.ui.view" id="libros_documentos_menu_tree">
      <field name="name">tree libros</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <tree create="false">
        <field name="contrato_id" string="Contrato" />
            
           <field name="tipo_obra"/>
            <field name="ejercicio" invisible="1"/>
           <field name="obra"/>
           <field name="contratista"/>
           <field name="residente_obra_2"/>
           <field name="total_siva" string="Monto s/iva"/>
           <field name="numero_documento" readonly="1"/>
            <field name="nombre_documento_m2o" string="Nombre Documento"/>
             <field name="etapa" readonly="1"/>
            <field name="aplica" invisible="1"/>
            <field name="existe" invisible="1"/>
            <field name="libros_blancos_id" invisible="1"/> 
             <field name="sevi" />
             <field name="unidadadminsol" />  
              <field name="reviso_expediente" invisible="1"/>
              <field name="verificado_expediente" invisible="1"/>
               <field name="fecha_revisado_exp" invisible="1"/>
                <field name="fecha_verificado_exp" invisible="1"/>
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="libros_documentos_search">
      <field name="name">tree libros search</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <search>

         <separator/>
                    <filter string=" --- Ejercicio ---" name="ejercicio"/>
                  <separator orientation="vertical" />
                  <filter string="2021" name="ejercicio" domain="[('ejercicio.name', '=', '2021')]" />
                    <filter string="2020" name="ejercicio" domain="[('ejercicio.name', '=', '2020')]" />
                    <filter string="2019" name="ejercicio" domain="[('ejercicio.name', '=', '2019')]"/>
                    <filter string="2018" name="ejercicio" domain="[('ejercicio.name', '=', '2018')]"/>
                    <filter string="2017" name="ejercicio" domain="[('ejercicio.name', '=', '2017')]"/>
                    <filter string="2016" name="ejercicio" domain="[('ejercicio.name', '=', '2016')]"/>
                    <filter string="2015" name="ejercicio" domain="[('ejercicio.name', '=', '2015')]"/>

            <separator/>
                    <filter string=" --- Aplica/Existe ---" name="aplica"/>
                  <separator orientation="vertical" />
                    <filter string="Si Aplica" name="aplica" domain="[('aplica', '=', 'Si')]" />
                    <filter string="No Aplica" name="aplica" domain="[('aplica', '=', 'No')]" /> 
                    <filter string="Aplica Por definir" name="aplica" domain="[('aplica', '=', 'Por definir')]" /> 
                    <filter string="Si Existe" name="existe" domain="[('existe', '=', 'Si')]" />
                    <filter string="No Existe" name="existe" domain="[('existe', '=', 'No')]" /> 
                    <filter string="Existe Por definir" name="existe" domain="[('existe', '=', 'Por definir')]" /> 
                    <filter string="Existe N/A" name="existe" domain="[('existe', '=', 'N/A')]" /> 
            <separator/>
                    <filter string=" --- Verificado/Revisado ---" name="verificado_expediente"/>
                  <separator orientation="vertical" />
                    <filter string="Verificado" name="verificado_expediente" domain="[('verificado_expediente', '=', True)]" />
                    <filter string="Revisado" name="reviso_expediente" domain="[('reviso_expediente', '=', True)]" />
            <separator/>
                 <filter string=" --- Tipo de Obra ---" name="tipo_obra"/>
                <separator orientation="vertical" />
                  <filter string="OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'OBRA')]" />
                  <filter string="ESTUDIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ESTUDIOS')]" />
                  <filter string="EQUIPO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'EQUIPO')]" />
                  <filter string="PROYECTO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'PROYECTO')]" />
                  <filter string="SUPERVISIÓN EXTERNA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SUPERVISIÓN EXTERNA')]" />
                  <filter string="REMODELACIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'REMODELACIÓN')]" />
                  <filter string="SERVICIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SERVICIOS')]" />
                  <filter string="VERIFICACIÓN ELÉCTRICA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'VERIFICACIÓN ELÉCTRICA')]" />
                  <filter string="CONTROL DE CALIDAD" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'CONTROL DE CALIDAD')]" />
                  <filter string="DIRECTOR RESPONSABLE DE OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'DIRECTOR RESPONSABLE DE OBRA')]" />
                  <filter string="ADQUISICIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ADQUISICIÓN')]" />

            
            <filter name="residente_obra_2" string="Residente" context="{'group_by':'residente_obra_2'}"/>
            <filter name="ejercicio" string="Ejercicio" context="{'group_by':'ejercicio'}"/>
            <filter name="tipo_obra" string="Tipo de Obra" context="{'group_by':'tipo_obra'}"/>
            <filter name="etapa" string="etapa" context="{'group_by':'etapa'}"/>
            <filter name="unidadadminsol" string="Unidad Solicitante" context="{'group_by':'unidadadminsol'}"/>

            <field name="contrato_id"/>
             <field name="nombre_documento_m2o"/>
            <field name="numero_documento"/>
            <field name="tipo_obra"/>
            <field name="etapa"/> 
            <field name="aplica"/>
            <field name="existe"/>
            <field name="Observaciones"/>
            <field name="verificado_expediente"/>
            <field name="reviso_expediente"/>
            <field name="libros_blancos_id"/>  
        </search>
      </field>
    </record>

    <!-- VISTA FORM DE LOS DOCUMENOS -->
    <record id="libros_documentos_form" model="ir.ui.view">
          <field name="name">Ventana Libros Blancos</field>
          <field name="model">expediente.libros_blancos</field>
          <field name="arch" type="xml">
              <form string="">
                   <div class="panel panel-default">
                      <div class="panel-body">
                        <h3 colspan="2" align="center"> Contrato:  <field name="contrato_id" readonly="1"/> </h3>
                      </div>
                  </div>
                  <sheet>
                      <group col="4">
                            <field name="numero_documento" />
                            <field name="nombre_documento_m2o" string="Nombre documento"/>
                            <field name="nombre_documento" readonly="1" invisible="1"/>
                            <field name="aplica" readonly="1"/>
                            <field name="existe"/>
                            <field name="Observaciones"/>

                             <field name="verificado_expediente" />

                      </group>
                   
                  </sheet>

              </form>
          </field>
      </record>


      <!-- ACCIONES VENTANA ESTIMACIONES -->
    <record model="ir.actions.act_window" id="libros_documentos_action">
      <field name="name">LIBROS BLANCOS</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">expediente.libros_blancos</field>
      <field name="view_mode">tree,form</field>
      <field name="context">{'search_default_libros_blancos_id': active_id}</field>
      <field name="search_view_id" ref="libros_documentos_search"/>
      <field name="limit">100</field>
      <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('libros_documentos_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('libros_documentos_form')})]"/>
    </record>


     <!-- ACCIONES VENTANA ESTIMACIONES -->
    <record model="ir.actions.act_window" id="libros_documentos_menu_action">
      <field name="name">Documentos Revisados</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">expediente.libros_blancos</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" ref="libros_documentos_search"/>
      <field name="limit">100</field>
      <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('libros_documentos_menu_tree')})]"/>
    </record>

        <!-- VISTA REVISION DOCUMENTOS -->
    <record id="revision_expediente_libros_form" model="ir.ui.view">
        <field name="name">Revision Expediente Único Form</field>
        <field name="model">libros.blancos</field>
        <field name="arch" type="xml">
            <form string="">
                <header>
                   <button name="%(estatus_expediente_docs)d" string="ESTATUS DE EXPEDIENTE" type="action"  icon="fa-copy" />
                   <button name="%(reporte_incidencia)d" string="REPORTE INCIDENCIAS" type="action"  icon="fa-copy" />
                </header>
                <sheet>
                    <group>
                        <field name="contrato" string="# Contrato"/>
                    </group>
                    <group>
                        <field name="reviso_expediente"/>
                        <field name="fecha_revisado_exp" attrs="{'invisible': [('reviso_expediente','=', False)],
                            'required': [('reviso_expediente','=', True)]}" class="oe_inline"/>
                    </group>
                    <hr/>
                    <group attrs="{'invisible': [('reviso_expediente','=', False)]}">
                        
                        <field name="verificado_expediente"/>
                        <field name="fecha_verificado_exp" attrs="{'invisible': [('verificado_expediente','=', False)],
                            'required': [('verificado_expediente','=', True)]}" class="oe_inline"/>
                            <field name="registrado" attrs="{'invisible': [('verificado_expediente','=', False)],
                            'required': [('verificado_expediente','=', True)]}" class="oe_inline"/>
                    </group>

                    <hr/>

                    <group>
                        <field name="responsable_revision_exp" required="1" class="oe_inline"/>
                    </group>

                    <group>
                        <field name="comentarios_expediente" placeholder="AGREGAR COMENTARIO..."/>
                    </group>

                    <hr/>

                    <group>
                        <field name="porcentaje_existencia" readonly="1" force_save="1"/>
                    </group>

                    <group>
                    <button name="%(libros_documentos_action)d" type="action" string="Ver lista de documentos" class="btn btn-info"
                    style="float:right;"/>
                    </group>

                    <group>
                        <field name="tabla_libros_blancos" widget="one2many" nolabel="1" context="{'form_view_ref': 'libros_blancos.documentos_librosblancos_form',
                        'default_contrato_id': contrato, 'default_libros_blancos_id': active_id}">
                            <tree decoration-danger="aplica == 'Si' and existe == 'No'" decoration-warning="entregado == True" 
                            decoration-success="entregado == True and existe == 'Si'" default_order="numero_documento asc" editable="bottom">
                                
                                <field name="numero_documento"  />
                                <field name="nombre_documento_m2o" string="Nombre del Documento"/>
                                <field name="nombre_documento" readonly="1" invisible="1" />
                                <field name="etapa"/>
                                <field name="aplica"/>
                                <field name="existe"/>
                                <field name="entregado"/>
                                <field name="fecha_entregado"/>
                                <field name="Observaciones"/>
                                <field name="p_id" invisible="1" />
                                <field name="contrato_id" invisible="1" />
                                <field name="libros_blancos_id" invisible="1"  />
                                <field name="write_date"/>
                            </tree>
                        </field>
                    </group>

                </sheet>
            </form>
        </field>
    </record>


    

  


    <!-- VISTA TREE DE PARTIDAS -->
      <record model="ir.ui.view" id="revision_expediente_libros_tree">
      <field name="name">Revision de Documentos al Expediente Único Tree</field>
      <field name="model">libros.blancos</field>
      <field name="arch" type="xml">
        <tree>
            <field name="contrato" string="# Contrato"/>
            <field name="fecha_revisado_exp"/>
            <field name="fecha_verificado_exp"/>
            <field name="responsable_revision_exp"/> 

            <field name="reviso_expediente" />
            <field name="verificado_expediente" />
            <field name="registrado" />
        </tree>
      </field>
    </record> 

     <!-- VISTA TREE DE DOCUMENTOS LIBROS BLANCOS PARA BORRAR -->
      <record model="ir.ui.view" id="lb_docs_tree">
      <field name="name">lb docs Tree</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <tree>
            <field name="numero_documento" />
            <field name="nombre_documento_m2o" string="Nombre del documento"/>
            <field name="contrato_id"/>
            <field name="libros_blancos_id"/> 
        </tree>
      </field>
    </record>

     <!-- ACCIONES VENTANA ESTIMACIONES -->
    <record model="ir.actions.act_window" id="lb_docs_action">
      <field name="name">DOCS</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">expediente.libros_blancos</field>
      <field name="view_mode">tree,form</field>
      <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('lb_docs_tree')})]"/>
    </record>


      <!-- ACCIONES VENTANA ESTIMACIONES -->
    <record model="ir.actions.act_window" id="revision_expediente_libros_action">
      <field name="name">Revision Fisica Libros Blancos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">libros.blancos</field>
      <field name="view_mode">tree,form</field>
      <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('revision_expediente_libros_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('revision_expediente_libros_form')})]"/>
    </record>


  <!--  Formulario de control de expediente  -->
        <record id="documentos_faltantes_form" model="ir.ui.view">
            <field name="name">Docuementos Faltantes form</field>
            <field name="model">expediente.libros_blancos</field>
            <field name="arch" type="xml">
                <form create="false" delete="false">
                    <sheet>
                        <field name="nombre_documento" readonly="1"  invisible="1"/>

                        <group string="Agregar Documento:" col="4">
                                <field name="numero_documento"/>

                                <field name="etapa"/>
                                <field name="aplica"/>
                                <field name="existe"/>
                                <field name="Observaciones"/>
                                <field name="unidadadminsol"/>
                                <field name="contrato_id" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


  <!-- DOCUMENTOS FALTANTES -->
  <record model="ir.ui.view" id="libros_documentos_faltantes_tree">
      <field name="name">tree libros</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false">
        <field name="contrato_id" string="Contrato" />
            
           <field name="tipo_obra"/>
            <field name="ejercicio" invisible="1"/>
           <field name="obra"/>
           <field name="contratista"/>
           <field name="residente_obra_2"/>
           <field name="numero_documento" readonly="1"/>
            <field name="nombre_documento_m2o" string="Nombre Documento"/>
             <field name="etapa" readonly="1"/>
            <field name="aplica" invisible="1"/>
            <field name="existe" invisible="1"/>
             <field name="Observaciones" />
            <field name="libros_blancos_id" invisible="1"/> 
             
              <field name="reviso_expediente" invisible="1"/>
              <field name="verificado_expediente" invisible="1"/>
               <field name="fecha_revisado_exp" />
                <field name="fecha_verificado_exp" />
                <field name="unidadadminsol" />  
                <field name="responsable_revision_exp" />
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="libros_documentos_faltantes_search">
      <field name="name">tree libros search</field>
      <field name="model">expediente.libros_blancos</field>
      <field name="arch" type="xml">
        <search>

          <separator/>
            <filter string=" --- Ejercicio ---" name="ejercicio"/>
          <separator orientation="vertical" />
          <filter string="2021" name="ejercicio" domain="[('ejercicio.name', '=', '2021')]" />
              <filter string="2020" name="ejercicio" domain="[('ejercicio.name', '=', '2020')]" />
              <filter string="2019" name="ejercicio" domain="[('ejercicio.name', '=', '2019')]"/>
              <filter string="2018" name="ejercicio" domain="[('ejercicio.name', '=', '2018')]"/>
              <filter string="2017" name="ejercicio" domain="[('ejercicio.name', '=', '2017')]"/>
              <filter string="2016" name="ejercicio" domain="[('ejercicio.name', '=', '2016')]"/>
              <filter string="2015" name="ejercicio" domain="[('ejercicio.name', '=', '2015')]"/>
          <separator/>
            <filter string=" --- Tipo de Obra ---" name="tipo_obra"/>
          <separator orientation="vertical" />
            <filter string="OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'OBRA')]" />
            <filter string="ESTUDIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ESTUDIOS')]" />
            <filter string="EQUIPO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'EQUIPO')]" />
            <filter string="PROYECTO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'PROYECTO')]" />
            <filter string="SUPERVISIÓN EXTERNA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SUPERVISIÓN EXTERNA')]" />
            <filter string="REMODELACIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'REMODELACIÓN')]" />
            <filter string="SERVICIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SERVICIOS')]" />
            <filter string="VERIFICACIÓN ELÉCTRICA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'VERIFICACIÓN ELÉCTRICA')]" />
            <filter string="CONTROL DE CALIDAD" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'CONTROL DE CALIDAD')]" />
            <filter string="DIRECTOR RESPONSABLE DE OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'DIRECTOR RESPONSABLE DE OBRA')]" />
            <filter string="ADQUISICIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ADQUISICIÓN')]" />

          <separator/>
            <filter string=" --- UNIDAD RESPONSABLE ---" name="unidadadminsol"/>
          <separator orientation="vertical" />
            <filter string="DIRECCION GENERAL DE PROYECTOS E INGENIERIA " name="unidadadminsol" domain="[('unidadadminsol.name', '=', 'DIRECCION GENERAL DE PROYECTOS E INGENIERIA')]" />
            <filter string="DIRECCIÓN GENERAL DE EJECUCIÓN DE OBRAS  " name="unidadadminsol" domain="[('unidadadminsol.name', '=', 'DIRECCIÓN GENERAL DE EJECUCIÓN DE OBRAS')]" />
            <filter string="PLANEACIÓN Y CONTROL " name="unidadadminsol" domain="[('unidadadminsol.name', '=', 'PLANEACIÓN Y CONTROL')]" />
            <filter string="LICITACIONES Y CONTRATOS" name="unidadadminsol" domain="[('unidadadminsol.name', '=', 'LICITACIONES Y CONTRATOS')]" />
            
            <filter name="nombre_documento_m2o" string="Documento" context="{'group_by':'nombre_documento_m2o'}"/>
            <filter name="ejercicio" string="Ejercicio" context="{'group_by':'ejercicio'}"/>
            <filter name="tipo_obra" string="Tipo de Obra" context="{'group_by':'tipo_obra'}"/>
            <filter name="unidadadminsol" string="Unidad Solicitante" context="{'group_by':'unidadadminsol'}"/>

            <field name="contrato_id"/>
             <field name="nombre_documento_m2o"/>
            <field name="numero_documento"/>
            <field name="tipo_obra"/>
            <field name="etapa"/> 
            <field name="aplica"/>
            <field name="existe"/>
            <field name="Observaciones"/>
            <field name="verificado_expediente"/>
            <field name="reviso_expediente"/>
            <field name="libros_blancos_id"/>  
        </search>
      </field>
    </record>

    <!-- ACCIONES VENTANA ESTIMACIONES -->
    <record model="ir.actions.act_window" id="libros_documentos_faltantes_action">
      <field name="name">Documentos Faltantes</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">expediente.libros_blancos</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" ref="libros_documentos_faltantes_search"/>
      <field name="limit">200</field>
        <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('libros_documentos_faltantes_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('documentos_faltantes_form')})]"/> 
        <field name="domain">[('aplica','=', 'Si'),('existe','=', 'No')]</field>
    </record>

      <menuitem name="Revision Fisica Libros Blancos" id="revision_expediente_libro_menu"
              parent="revision_expedientes_menu"
              action="revision_expediente_libros_action" sequence="1"/>

      <menuitem name="Documentos Revisados" id="revision_expediente_documentos_menu"
              parent="revision_expedientes_menu"
              action="libros_documentos_menu_action" sequence="4"/>

      <menuitem name="Documentos Faltantes" id="documentos_faltantes_menu"
              parent="revision_expedientes_menu"
              action="libros_documentos_faltantes_action" sequence="6"/>

               <!--menuitem name="Documentos LB" id="lb_docs_menu"
              parent="revision_expedientes_menu"
              action="lb_docs_action" sequence="6"/-->


  </data>
</odoo>